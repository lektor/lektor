repos:
  - repo: https://github.com/ambv/black
    # black >= 24 is incompatible with reorder-python-imports
    # See https://github.com/psf/black/issues/4175
    rev: "23.12.1"
    hooks:
      - id: black
  - repo: https://github.com/asottile/reorder_python_imports
    rev: "v3.14.0"
    hooks:
      - id: reorder-python-imports
        args: ["--py39-plus"]
  - repo: https://github.com/asottile/pyupgrade
    rev: "v3.19.0"
    hooks:
      - id: pyupgrade
        args: ["--py39-plus"]
  - repo: https://github.com/pycqa/flake8
    rev: "7.1.1"
    hooks:
      - id: flake8
        language_version: python3
        additional_dependencies:
          # NB: autoupdate does not pick up flake8-bugbear since it is a
          # transitive dependency. Make sure to update flake8-bugbear
          # manually on a regular basis.
          - flake8-bugbear==24.10.31

  - repo: local
    hooks:
      - id: eslint
        name: eslint
        language: node
        entry: ./frontend/node_modules/eslint/bin/eslint.js --fix --max-warnings 0
        require_serial: true
        files: \.(ts|tsx)$
      - id: prettier
        name: prettier
        language: node
        entry: ./frontend/node_modules/prettier/bin/prettier.cjs --write --list-different
        require_serial: true
        files: \.(ts|tsx|js|less|ya?ml|md)$

  - repo: https://github.com/PyCQA/pylint.git
    # rev: v3.3.1
    rev: v3.2.7
    hooks:
      - id: pylint
        additional_dependencies:
          - hatchling # distribution package build backend
          - Babel # runtime
          - click >= 6.0 # runtime
          - Flask # runtime
          - inifile >= 0.4.1 # runtime
          - Jinja2 >= 3.0 # runtime
          - MarkupSafe # runtime
          - marshmallow # runtime
          - marshmallow_dataclass >= 8.5.9 # runtime
          - mistune >=0.7.0, <3 # runtime
          - Pillow >= 6 # runtime
          - pip # runtime
          - python-slugify # runtime
          - requests # runtime
          - typing-extensions >= 3.10; python_version < '3.10' # runtime
          - tzdata; sys_platform == 'win32' # runtime
          - watchfiles >= 0.12 # runtime
          - Werkzeug >= 2.1.0 # runtime
          - ipython # runtime, additional through `ipython` extra
          - traitlets # runtime, additional through `ipython` extra
          - pytest >= 6 # tests
          - pytest-mock # tests
          - importlib_metadata; python_version < "3.10" # tests
          - iniconfig # tests
